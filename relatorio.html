<!--
/*
 * Funcionalidades principais:
 * - Exibição de dados da visita (cliente, empresa, data, hora)
 * - Visualização de locais visitados e não visitados
 * - Exibição de observações registradas para cada local
 * - Indicador de progresso da visita (porcentagem de locais visitados)
 * - Geração de relatório em PDF para download/impressão
 */
-->
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <!-- Metadados básicos da página -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relatório de Visita - Atibainha Visits</title>
    
    <!-- Arquivos CSS externos -->
    <link rel="stylesheet" href="css/styles.css"> <!-- Estilos globais do sistema -->
    <link rel="stylesheet" href="css/relatorio.css"> <!-- Estilos específicos para relatórios -->
    <link rel="icon" href="img/LogoTipo.png" type="image/png"> <!-- Favicon do site -->
    
    <!-- Biblioteca de ícones Font Awesome - usada para ícones de ações -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Biblioteca jsPDF para geração de PDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <!-- 
        Cabeçalho com navegação 
        Contém o logo do sistema e links para as principais áreas do aplicativo.
    -->
    <header>
        <div class="navbar">
            <!-- Logo do sistema - identidade visual -->
            <div class="logo">
                <img src="img/LogoTipo.png" alt="Logo">
            </div>
            
            <!-- 
                Links de navegação principal 
                Permite acesso às diferentes áreas do sistema.
            -->
            <ul class="nav-links" id="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="agendamentos.html">Agendamentos</a></li>
                <li><a href="usuarios.html">Usuarios</a></li>
                <li><a href="#" id="logout-btn">Logout</a></li> <!-- Controlado pelo script logout.js -->
            </ul>
            
            <!-- 
                Menu hambúrguer para dispositivos móveis 
                Aparece apenas em telas pequenas e controla a exibição do menu.
            -->
            <div class="menu-toggle" id="menu-toggle">
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
            </div>
        </div>
    </header>

    <!-- 
        Conteúdo principal da página 
        Contém o relatório da visita com todas as informações coletadas.
    -->
    <main>
        <div class="container">
            <!-- 
                Painel de relatório com efeito glassmorphism 
                Contém todas as informações da visita finalizada.
            -->
            <div class="relatorio-container glassmorphism">
                <!-- Título do relatório -->
                <h1>Relatório de Visita</h1>
                
                <!-- 
                    Seção de dados gerais da visita 
                    Exibe informações sobre o cliente, empresa e data/hora da visita.
                    Preenchido dinamicamente pelo relatorio.js.
                -->
                <section class="secao-relatorio">
                    <h2>Dados da Visita</h2>
                    <div id="dados-visita" class="dados-visita">
                        <!-- Conteúdo preenchido dinamicamente pelo JavaScript -->
                        <p>Carregando dados da visita...</p>
                    </div>
                </section>
                
                <!-- 
                    Seção de progresso da visita 
                    Exibe uma barra de progresso indicando a porcentagem de locais visitados.
                -->
                <section class="secao-relatorio">
                    <h2>Progresso da Visita</h2>
                    <div class="progresso-container">
                        <!-- Barra de progresso visual -->
                        <progress id="barra-progresso" value="0" max="100"></progress>
                        <!-- Texto indicando a porcentagem de progresso -->
                        <span id="texto-progresso">0%</span>
                    </div>
                </section>
                
                <!-- 
                    Seção de locais visitados 
                    Lista todos os locais visitados e não visitados durante a visita.
                    Preenchido dinamicamente pelo relatorio.js.
                -->
                <section class="secao-relatorio">
                    <h2>Locais Visitados</h2>
                    <div id="lista-locais" class="lista-locais">
                        <!-- Conteúdo preenchido dinamicamente pelo JavaScript -->
                        <p>Carregando locais visitados...</p>
                    </div>
                </section>
                
                <!-- 
                    Botão para gerar PDF 
                    Permite criar um arquivo PDF do relatório para download ou impressão.
                    Controlado pelo relatorio.js.
                -->
                <div class="acoes-relatorio">
                    <button id="btn-gerar-pdf" class="btn-acao">
                        <i class="fas fa-file-pdf"></i> Gerar PDF
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Rodapé com informações de copyright -->
    <footer>
        <label>© 2025 Copyright Todos os direitos reservados a Hotel Estancia Atibainha</label>
    </footer>

    <!-- 
        Scripts JavaScript 
        Carregados no final do documento para melhor performance.
    -->
    <script src="js/script.js"></script> <!-- Script global com funções comuns -->
    <script src="js/logout.js"></script> <!-- Script para gerenciar o logout -->
    <script src="js/relatorio.js"></script> <!-- Script específico para relatórios -->
    
    <!-- 
        Fluxo de funcionamento da página:
        1. Ao carregar, o relatorio.js obtém o ID da visita da URL
        2. O script busca os dados da visita finalizada na API
        3. As informações são exibidas nas respectivas seções do relatório
        4. A barra de progresso é atualizada com base nos locais visitados
        5. Os locais são exibidos em duas colunas (salões e chalés)
        6. O usuário pode gerar um PDF do relatório clicando no botão correspondente
        7. O PDF é gerado com formatação adequada e disponibilizado para download
    -->
</body>
</html>